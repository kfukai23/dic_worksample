# Ruby on Rails入門

## このテキストのゴール
- Railsを学び始めるにあたり、全体像をつかむこと

## Ruby on Railsとは何か
プログラミング言語Rubyを用いて作られた、オープンソース製の**Webアプリケーションフレームワークです。**

Ruby製のフレームワークとしては現在もっともメジャーで、世界で広く利用されているほか、他の言語における後発のフレームワークのいくつかにも影響を与えたと言われています。

## 簡単な歴史・成り立ち
2004年、デンマークのプログラマーであるデイヴィッド・ハイネマイヤー・ハンソンによって公開されました。
以来、累計約4,000名にも及ぶプログラマー達がGitHubリポジトリ上で改善に貢献しながら、今日まで発展を続けています。

### 使用事例
GitHub
https://github.com/

Airbnb
https://www.airbnb.jp/

クックパッド
https://cookpad.com/

メドピア
https://medpeer.jp/

## Webアプリケーションフレームワークとは何か
Webアプリケーションを作るための、いわば土台です。

Webアプリケーションには、本来とても多くの機能を実装する必要があります。例えばデータベースの操作や、ユーザーが入力したURLとそれに応じたアプリ側の処理との対応づけ、画面の表示など、その他にも多岐にわたります。これらすべてを一から定義していくのはとても時間のかかる作業です。

**これらの仕組みを、ある設計思想に基づいて予め構築したものがフレームワークです。**

フレームワークを使った開発では、既存の土台に対し必要な機能を付け足していくような形で進めることができるため、**本質的に取り組みたい開発により注力しやすくなる**メリットがあります。

## Ruby on RailsとRubyの違いについて
これから学習を進めていく方にとっては疑問に感じる点かと思います。

Rubyは、まつもとゆきひろ氏によって公開された**プログラミング言語**です。

それに対して、Ruby on Railsは、Rubyを用いて作られた**Webアプリケーションフレームワーク**を指します。

これらを混同してしまわないよう、注意してください。

## Ruby on Railsの特徴
### MVCアーキテクチャを採用
Ruby on Railsの動作は、**Model, View, Controllerの3つの要素が役割を分担し相互に作用する「MVCアーキテクチャ」** によって成り立っています（ちなみに、アーキテクチャとは、「基本的な構造や設計」といった意味です）。それぞれ、以下のような役割です。

- Model：データベースの操作やデータの計算などを受け持つ。
- View：ユーザーが見る画面への出力を担う。HTMLを生成する。
- Controller：ModelとViewの間を取り持つ。例えば、ユーザーから送信された値を受け取ってModelに渡したり、Modelから受け取った処理結果をViewに渡すなど。

例：一般的なログイン処理と、MVCの関係（あくまでイメージです）
<img src="https://user-images.githubusercontent.com/36021748/68593225-4547c580-04d8-11ea-9ec3-ed591c7189f5.png" border="5">

① ブラウザからメールアドレス・パスワードとともにリクエストが送信される

② リクエストからControllerがメールアドレス・パスワードを受け取り、Modelに渡す

③ Modelがメールアドレス・パスワードを用いてユーザー情報をデータベースに問い合わせ、結果を取得

④ Controllerは問い合わせ結果を受け取る

⑤ Controllerはログイン成功画面のViewにユーザー情報を渡す

⑥ Viewは渡されたユーザー情報をHTMLに埋め込み、ログイン画面を生成

⑦ ブラウザへレスポンスが届き、ログイン画面が表示される


### CoC（Convention over Configuration） - "設定より規約" という思想
Ruby on Railsでは、使用者の開発生産性を上げるため、設定および設計の全てを使用者にあえて委ねず、ある規約に基づいて予め決められています。この思想は**CoC（Convention over Configuration） = "設定より規約"** と言われており、Ruby on Railsの特徴となっています。

例えば、本を表すクラス「Book」を作成し、それに対する操作を行った場合、特別な設定をせずとも規約に従ってクラス名からデータベース上のテーブル名を「Books」と推測し、必要なデータが取得できるように予め作られています。

こうした規約によって**設定のためのコードを何百行と書かずにすむうえ、設計の手間を省くことができ、高い生産性を実現できる**のです。

